### 八数码问题

[POJ 1077 Eight](http://poj.org/problem?id=1077)，[HDOJ 1043 Eight](http://acm.hdu.edu.cn/showproblem.php?pid=1043)。

#### 有解性的判定

* 八数码问题的一个状态实际上是0~8的一个排列，对于任意给定的初始状态和目标，不一定有解，即从初始状态不一定能到达目标状态。
> * 因为排列有奇排列和偶排列两类， 从奇排列不能转化成偶排列或相反。
* 如果一个数字0~8的随机排列，用F(X) (X!=0)表示数字X前面比它小的数的个数，全部数字的F(X)之和为Y=∑(F(X))，如果Y为奇数则称该排列是奇排列，如果Y为偶数则称该排列是偶排列。
> * 871526340排列的 Y=0+0+0+1+1+3+2+3=10， 10是偶数，所以是偶排列。
> * 871625340排列的Y=0+0+0+1+1+2+2+3=9 9是奇数，所以是奇排列。
> * 因此， 可以在运行程序前检查初始状态和目标状态的奇偶性是否相同，相同则问题可解，应当能搜索到路径。否则无解。

证明：移动0的位置，不改变排列的奇偶性

a1 a2 a3 a4 0 a5 a6 a7 a8 a9

0向上移动：

a1 0 a3 a4 a2 a5 a6 a7 a8 a9

#### 状态空间的优化

#### 如何加快速度？

POJ 1077为单组数据，HDOJ 1043为多组数据。裸的广搜在POJ能过，在HDOJ回超时。

1. 双向广搜：从两个方向以广度优先的顺序同时扩展。
2. 针对本题预处理：可以从目标节点开始，进行一遍彻底的广搜，找出全部有解状态到目标节点的路径。
3. A*算法

##### 双向广度优先搜索

每次扩展结点总是选择结点比较少的那边进行扩展，并不是机械地两边交替。